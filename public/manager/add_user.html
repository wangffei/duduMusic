<!doctype html>
<html>
	<head>
	    <title>注册用户</title>
	    <link rel="stylesheet" href="../layui/layui/css/layui.css">
	</head>

	<body>
		<form class="layui-form" action="" style="width:500px;margin:50px auto 0 ;background:gray;padding:10px;">
		  <div class="layui-form-item">
		    <label class="layui-form-label">用户名：</label>
		    <div class="layui-input-inline">
		      <input type="text" name="user" required  lay-verify="required" placeholder="请输入用户名" autocomplete="off" class="layui-input">
		    </div>
		  </div>

		  <div class="layui-form-item">
		    <label class="layui-form-label">密码：</label>
		    <div class="layui-input-inline">
		      <input type="password" name="pwd" lay-verify="pass" placeholder="请输入密码" autocomplete="off" class="layui-input">
		    </div>
		  </div>

		  <div class="layui-form-item">
		    <label class="layui-form-label">真实姓名：</label>
		    <div class="layui-input-inline">
		      <input type="text" name="name" required  lay-verify="required" placeholder="请输入真实姓名" autocomplete="off" class="layui-input">
		    </div>
		  </div>

		  <div class="layui-form-item">
		  	<label class="layui-form-label">性别：</label>
		  	<div class="layui-input-block">
		  		<input type="radio" name="gender" value=1 title="男" checked="">
		  		<input type="radio" name="gender" value=0 title="女">
		  	</div>
		  </div>

		  <div class="layui-form-item">
		    <label class="layui-form-label">地址：</label>
		    <div class="layui-input-inline">
		      <input type="text" name="addr" placeholder="请输入地址" autocomplete="off" class="layui-input">
		    </div>
		  </div>

		  <div class="layui-form-item">
		  	<label class="layui-form-label">出生日期：</label>
		  	<div class="layui-input-inline">
		  		<input type="text" name="birth" id="date" placeholder="yyyy-mm-dd" autocomplete="off" class="layui-input">
		  	</div>
		  </div>

		  <div class="layui-form-item">
		    <div class="layui-input-block">
		      <button class="layui-btn" lay-submit lay-filter="formDemo">立即提交</button>
		      <button type="reset" class="layui-btn layui-btn-primary">重置</button>
		    </div>
		  </div>
		</form>
		<script src="../layui/layui/layui.all.js"></script>
		<script>
			//Demo
			layui.use('form', function(){
			  var form = layui.form;
			  var $ = layui.jquery;
			  
			  //监听提交
			  form.on('submit(formDemo)', function(data){
			  	console.log(data.field);
			    //layer.msg(JSON.stringify(data.field));
			    $.ajax({
			    	url:"/api/register"
			    	,data:data.field
			    	,success:function(res){
			    		if(res.code == 200){
			    			layer.msg("成功")
			    		}else{
			    			layer.msg(res.msg)
			    		}
			    	}
			    	,fail:function(){
			    		layer.msg("请求失败")
			    	}
			    })
			    return false;
			  });
			});
		</script>
		<script>
			layui.use('laydate', function() {
				var laydate = layui.laydate;

				// 执行一个laydate实例
				laydate.render({
					elem: '#date'    // 指定元素
				});
			});
		</script>
	</body>

</html>